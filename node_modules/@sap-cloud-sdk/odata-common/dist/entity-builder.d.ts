import type { EntityBase } from './entity-base';
import { DeSerializers } from './de-serializers';
import { EntityApi } from './entity-api';
declare type NullishTypes = null | undefined;
declare type NonNullishType<T> = Exclude<T, NullishTypes>;
declare type PureEntityType<T> = Omit<NonNullishType<T>, keyof EntityBase>;
/**
 * Type to describe possible inputs for `.fromJson`.
 * This is based on the JSON type of an entity and allows all properties to be optional recursively.
 * It also allows setting unknown properties, which will be treated as custom fields.
 * @typeparam JsonT - JSON type of the entity.
 */
declare type FromJsonType<JsonT> = {
    [key: string]: any;
} & {
    [P in keyof PureEntityType<JsonT>]?: PureEntityType<JsonT>[P] extends (infer U)[] ? U extends Record<string, any> ? FromJsonType<U>[] : PureEntityType<JsonT>[P] : PureEntityType<JsonT>[P] extends Record<string, any> | null | undefined ? FromJsonType<PureEntityType<JsonT>[P]> | null | undefined : PureEntityType<JsonT>[P];
};
/**
 * @internal
 */
export declare class EntityBuilder<EntityT extends EntityBase, DeSerializersT extends DeSerializers> {
    private _entityApi;
    protected entity: EntityT;
    constructor(_entityApi: EntityApi<EntityT, DeSerializersT>);
    /**
     * Sets the custom fields for the entity.
     * @param customFields - The custom fields you want to add.
     * @returns The entity builder itself for method chaining.
     */
    withCustomFields(customFields: Record<string, any>): this;
    /**
     * Builds the entity.
     * @returns The entity.
     */
    build(): EntityT;
    /**
     * Builds an entity from JSON representation.
     * If you have obtained the JSON as a request payload use the [[deserializeEntity]] methods.
     * Note that fields not mappable to a field in the target entity are silently ignored.
     * @param json - Representation of the entity in JSON format.
     * @returns EntityBase constructed from JSON representation.
     */
    fromJson(json: FromJsonType<EntityT>): EntityT;
    private filterCustomFields;
}
export {};
//# sourceMappingURL=entity-builder.d.ts.map